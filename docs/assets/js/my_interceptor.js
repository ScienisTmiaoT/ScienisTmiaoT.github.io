const config={t:"/assets/js/my_interceptor.js",i:"my_interceptor",intercept:{url:"/ghost/api/content/",list:[{o:"posts",u:"posts.json"},{o:"authors",u:"authors.json"},{o:"tags",u:"tags.json"}],l:["/api/"]}};function renew_script(){document.getElementById(config.i).src=config.t+"?v="+Date.now()}function replace_urls(t){var i,s=config.intercept;for(i of s.list){var n=s.url+i.o,r=s.url+i.u;if(-1!=t.indexOf(n))return replace_url(t,n,r)}return is_blacklisted(t)?void 0:t}function replace_url(t,i,s){i=t.indexOf(i);return t.substring(0,i)+s}function is_blacklisted(t){for(var i of config.intercept.l)if(-1!=t.indexOf(i))return!0;return!1}!function(o){renew_script(),XMLHttpRequest.prototype.open=function(t,i,s,n,r){var e=replace_urls(i);void 0!==e?o.call(this,t,e,s,n,r):console.log("this url is blacklisted: "+i)}}(XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.send),function(){var n=window.fetch;window.fetch=function(t,i){var s=replace_urls(t);if(void 0!==s)return n(s,i);console.log("this url is blacklisted: "+t)}}();